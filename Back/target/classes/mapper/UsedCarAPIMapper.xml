<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rental.mapper.UsedCarAPIMapper">

    <!--  지역별 차량 목록 조회 -->
    <select id="findByDealerLocation" parameterType="string" resultType="com.rental.dto.UsedCarDTO">
        SELECT 
            vehicle_no AS vehicleNo,
            vehicle_name AS vehicleName,
            dealer_no AS dealerNo,
            vehicle_type AS vehicleType,
            brand,
            model_year AS modelYear,
            price,
            color,
            dealer_location AS dealerLocation,
            fuel_type AS fuelType,
            transmission,
            drive_type AS driveType,
            main_image AS mainImage,
            vehicle_plate AS vehiclePlate,
            car_km AS carKm,
            seating_capacity AS seatingCapacity,
            description,
            status
        FROM used_car
        WHERE dealer_location = #{dealerLocation}
    </select>

    <!--  특정 차량 상세 조회 -->
    <select id="findById" parameterType="long" resultType="com.rental.dto.UsedCarDTO">
        SELECT 
            vehicle_no AS vehicleNo,
            vehicle_name AS vehicleName,
            dealer_no AS dealerNo,
            vehicle_type AS vehicleType,
            brand,
            model_year AS modelYear,
            price,
            color,
            dealer_location AS dealerLocation,
            fuel_type AS fuelType,
            transmission,
            drive_type AS driveType,
            main_image AS mainImage,
            vehicle_plate AS vehiclePlate,
            car_km AS carKm,
            seating_capacity AS seatingCapacity,
            description,
            status
        FROM used_car
        WHERE vehicle_no = #{id}
    </select>

<!-- 차량번호(vehicleNo)로 상세 조회 -->
<select id="findByVehiclePlate" parameterType="java.lang.String" resultType="com.rental.dto.UsedCarDTO">
    SELECT 
        vehicle_no AS vehicleNo,
        vehicle_name AS vehicleName,
        dealer_no AS dealerNo,
        vehicle_type AS vehicleType,
        brand,
        model_year AS modelYear,
        price,
        color,
        dealer_location AS dealerLocation,
        fuel_type AS fuelType,
        transmission,
        drive_type AS driveType,
        main_image AS mainImage,
        vehicle_plate AS vehiclePlate,
        car_km AS carKm,
        seating_capacity AS seatingCapacity,
        description,
        status
    FROM used_car
    WHERE vehicle_plate = #{vehiclePlate}
</select>

</mapper>
