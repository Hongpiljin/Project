<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.rental.mapper.DealerMapper">

    <select id="findDistinctDealerLocations" resultType="com.rental.dto.UsedCarDTO">
        SELECT DISTINCT dealer_location AS dealerLocation
        FROM used_car
    </select>

    <select id="findCarsByLocation"
            parameterType="String"
            resultType="com.rental.dto.UsedCarDTO">
        SELECT 
            dealer_location AS dealerLocation,
            vehicle_name     AS vehicleName,
            brand,
            model_year       AS modelYear,
            price,
            color,
            fuel_type        AS fuelType,
            transmission,
            drive_type       AS driveType,
            main_image       AS mainImage,
            vehicle_plate    AS vehiclePlate,
            car_km           AS carKm,
            seating_capacity AS seatingCapacity,
            description,
            -- 필요한 경우, 다른 컬럼도 alias로 매핑
            vehicle_no       AS vehicleNo,
            dealer_no        AS dealerNo,
            vehicle_type     AS vehicleType
        FROM used_car
        WHERE dealer_location = #{location}
    </select>

</mapper>
